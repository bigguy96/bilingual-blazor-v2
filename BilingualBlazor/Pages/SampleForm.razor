@page "/en/form"
@page "/fr/formulaire"

@using BilingualBlazor.Models
@inherits BasePageComponent

<PageTitle Title="Sample Form" />
<Breadcrumbs Value="Sample Form" />
<h1>Sample Form</h1>

@if (_lastSubmitResult != null)
{
    <h2>
        Last submit status: @_lastSubmitResult
    </h2>
    <hr />
}

<EditForm Model=@Person OnSubmit="FormSubmitted">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
        <InputLabel For="ishuman" Text="Is Human:" />
        <InputCheckbox id="ishuman" class="form-control" @bind-Value=Person.IsHuman />
        <ValidationMessage For="() => Person.IsHuman" />
    </div>

    <div class="form-group">
        <InputLabel For="dob" Text="Date of birth:" />
        <InputDate id="dob" class="form-control" @bind-Value=Person.DateOfBirth ParsingErrorMessage="Must be a date." />
        <ValidationMessage For="() => Person.DateOfBirth" />
    </div>

    <div class="form-group">
        <InputLabel For="age" Text="Age:" />
        <InputNumber id="age" class="form-control" @bind-Value=Person.Age ParsingErrorMessage="Must be an integer value." />
        <ValidationMessage For="() => Person.Age" />
    </div>

    <div class="form-group">
        <InputLabel For="name" Text="Name:" />
        <InputText id="name" class="form-control" @bind-Value=Person.Name />
        <ValidationMessage For="() => Person.Name" />
    </div>

    <div class="form-group">
        <InputLabel For="description" Text="Description:" />
        <InputTextArea id="description" class="form-control" @bind-Value=Person.Description />
    </div>

    <div class="form-group">
        <InputLabel For="gender" Text="Gender:" />
        <InputSelect id="gender" class="form-control" @bind-Value=Person.Gender>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
        </InputSelect>
        <ValidationMessage For="() => Person.Gender" />
    </div>

    <div class="form-group">
        <input type="submit" value="Submit" class="btn btn-primary" />
    </div>
</EditForm>

@code
{
    Person Person = new Person();
    string _lastSubmitResult;

    void FormSubmitted(EditContext editContext)
    {
        var formIsValid = editContext.Validate();
        _lastSubmitResult = formIsValid ? "Success - form was valid" : "Failure - form was invalid";
    }
}